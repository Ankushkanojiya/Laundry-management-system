<!DOCTYPE html>
<html>

<head>
    <title>Laundry Admin</title>
    <link rel="stylesheet" href="style.css">


</head>

<body>
    <h1>Laundry Management System</h1>

    <div id="auth-section" class="auth-container">
        <!-- Toggle Tabs -->
        <div class="tab-toggle">
            <button onclick="showTab('admin')" id="tab-admin" class="active-tab">Admin</button>
            <button onclick="showTab('customer')" id="tab-customer">Customer</button>
        </div>

        <!-- Admin Login Form -->
        <div id="admin-form" class="auth-form">
            <h2>Admin Login</h2>
            <input type="text" id="username" placeholder="Username">
            <input type="password" id="password" placeholder="Password">
            <button onclick="login()">Login</button>
            <p id="login-message"></p>
        </div>

        <!-- Customer registration and login form -->
        <div id="customer-form" class="auth-form hidden">
            <h2>Customer Login</h2>
            <input type="text" id="customer-phone-login" placeholder="Phone Number">
            <input type="password" id="customer-password-login" placeholder="Password">
            <button onclick="loginCustomer()">Login</button>

            <hr>

            <h3>New Customer? Register here</h3>
            <input type="text" id="customer-phone-register" placeholder="Phone Number">
            <input type="password" id="customer-password-register" placeholder="Password">
            <button onclick="registerCustomer()">Register</button>
            <p id="customer-auth-message"></p>
        </div>
    </div>

    <div id="customer-dashboard" class="hidden">
        <div class="dashboard-header">
            <div><h2>ðŸ‘‹ Welcome <span id="customer-name-display"></span>,</h2></div>
            <button onclick="logoutCustomer()" class="logout-btn">Logout</button>
        </div>

        <div class="balance-box">
            <h2>ðŸ’° Balance Due: â‚¹<span id="customer-balance">0</span></h2>
            <button onclick="showCustomerPaymentModal(currentCustomerBalance)" id="pay-now-btn">Pay ðŸ’³</button>
        </div>


        <div class="table-container">
            <h3>Your Orders</h3>
            <table class="order-table">
                <thead>
                    <tr>
                        <th>Order Date</th>
                        <th>Service</th>
                        <th>Total Clothes</th>
                        <th>Amount</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="customer-order-body">

                </tbody>
            </table>
        </div>
        <div id="customer-orders-container"></div>
        <div class="table-container">
            <h3>Your Payments</h3>
            <table class="payment-table">
                <thead>
                    <tr>
                        <th>Transaction ID</th>
                        <th>Amount</th>
                        <th>Timestamp</th>
                    </tr>
                </thead>
                <tbody id="customer-payment-body">

                </tbody>
            </table>
        </div>

    </div>


    <!-- Admin Dashboard -->
    <div id="admin-dashboard" class="hidden">
        <!-- Navigation Buttons -->
        <div class="nav-buttons">
            <button onclick="showAddCustomer()">Add Customer</button>
            <button onclick="showTakeOrder()">Take Order</button>
            <button onclick="showManageCustomers()">Manage Customers</button>
            <button onclick="showManageOrders()">Show Orders</button>
            <button onclick="showPayments()">Payments</button>
            <button class="logout-btn" onclick="logoutAdmin()">Logout</button>

        </div>


        <!-- Dashboard-->
        <div id="stats-cards" class="dashboard-cards">
            <div class="card pending-card">
                <h3>Pending Orders</h3>
                <p id="pending-count">0</p>
            </div>
            <div class="card revenue-card">
                <h3>Today's Revenue</h3>
                <p id="daily-revenue">0</p>
            </div>
            <div class="card business-revenue-card">
                <h3>Business revenue</h3>
                <p id="business-revenue">0</p>
            </div>

        </div>

        <!-- Add Customer Section -->
        <div id="add-customer-section" class="hidden">
            <h2>Add New Customer</h2>
            <div class="form-section">
                <input type="text" id="customer-name" placeholder="Full Name" required>
                <input type="text" id="customer-phone" placeholder="Phone Number (10 digits)" required>
                <button id="add-btn" onclick="addCustomer()">Add Customer</button>
                <p id="action-message"></p>
            </div>
        </div>

        <!-- Take Order Section -->
        <div id="take-order-section" class="hidden">
            <h2>Take New Order</h2>

            <div class="service-type-section">
                <label>Service Type:</label>
                <label>
                    <input type="radio" name="serviceType" value="REGULAR" checked>
                    ðŸ‘• Regular Wash
                </label>
                <label>
                    <input type="radio" name="serviceType" value="LAUNDRY">
                    ðŸ§¥ Dry Cleaning
                </label>
            </div>

            <div class="form-section">
                <select class="customer-dropdown" id="customer-select">
                    <option value="">Select Customer</option>
                </select>
                <input type="number" id="cloth-count" placeholder="Number of Clothes" min="1">
                <button onclick="submitOrder()">Create Order</button>
            </div>
        </div>

        <!-- Manage Customers Section -->
        <div id="manage-customers-section" class="hidden">
            <h2>Customer List</h2>

            <div id="edit-customer-form" class="hidden">
                <h3>Edit Customer</h3>
                <input type="text" id="edit-customer-name" placeholder="Full Name" required>
                <input type="text" id="edit-customer-phone" placeholder="Phone Number" required>
                <button onclick="updateCustomer()">Save Changes</button>
                <button onclick="cancelEdit()">Cancel</button>
                <p id="edit-customer-message"></p>
            </div>
            <div class="form-section">
                <table id="customer-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Phone</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>


        <!-- Show order section -->
        <div id="manage-order-section" class="hidden">
            <h2>Orders</h2>
            <div class="order-module">
                <div class="filter-sidebar">
                    <h3>Filter orders</h3>

                    <!-- status filter -->
                    <div class="filter-group">
                        <label for="filter-status">Status:</label>
                        <select id="filter-status">
                            <option value="">Select status</option>
                            <option value="PENDING">Pending</option>
                            <option value="IN_PROGRESS">In Progress</option>
                            <option value="COMPLETED">Completed</option>
                        </select>
                    </div>

                    <!-- Customer filter -->
                    <div class="filter-group">
                        <label for="filter-customer">Customer:</label>
                        <select class="customer-dropdown" id="filter-customer">
                            <option value="">Select customer</option>
                        </select>
                    </div>


                    <!-- Date filter -->
                    <div class="filter-group">
                        <label>Date range:</label>
                        <input type="date" id="filter-start-date">
                        <input type="date" id="filter-end-date">
                    </div>

                    <div class="filter-actions">
                        <button onclick="applyFilters()">Apply Filter</button>
                        <button onclick="clearFilters()">Clear</button>
                    </div>
                </div>

                <div class="form-section">
                    <table id="orders-table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Details</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- show payment section -->

        <div id="payments-section" class="hidden">
            <h2>Payments</h2>

            <table id="payments-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Customer</th>
                        <th>Amount</th>
                        <th>Details</th>
                        <th>Pay</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

        </div>
    </div>



    <!-- Order Confirmation Popup -->
    <div id="order-popup" class="hidden">
        <div class="popup-content">
            <h3>Order Created Successfully! ðŸŽ‰</h3>
            <p><strong>Order ID:</strong> <span id="popup-order-id"></span></p>
            <p><strong>Customer Name:</strong> <span id="popup-customer-name"></span></p>
            <p><strong>Phone Number:</strong> <span id="popup-customer-phone"></span></p>
            <p><strong>Number of Clothes:</strong> <span id="popup-cloth-count"></span></p>
            <p><strong>Total Amount:</strong> â‚¹<span id="popup-total-amount"></span></p>
            <p><strong>Order Date:</strong> <span id="popup-order-date"></span></p>
            <p><strong>Status:</strong> <span id="popup-status">PENDING</span></p>
            <button onclick="closeOrderPopup()">Close</button>
        </div>
    </div>

    <!-- Customer Order History -->
    <div id="customer-order-history" class="hidden">
        <div class="modal-content">
            <span class="close" onclick="closeHistory()">&times;</span>
            <h3>Order history for <span id="customer-order-history-name"></span></h3>
            <div class="history-table-container">
                <table id="customer-orders-table">
                    <thead>
                        <tr>
                            <th>Order ID</th>
                            <th>Date</th>
                            <th>Details</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
    <!--  Payment Modal  -->
    <div id="payment-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close" onclick="closePaymentModal()">&times;</span>
            <h3>Record Payment</h3>

            <!-- Message container INSIDE modal-content -->
            <div id="payment-message" class="payment-message"></div>

            <div class="form-group">
                <label>Customer:</label>
                <p id="payment-customer-name"></p>
            </div>

            <div class="form-group">
                <label>Amount Due:</label>
                <p id="payment-total-due">â‚¹0.00</p>
            </div>

            <div class="form-group">
                <label for="payment-amount">Amount Paid:</label>
                <input type="number" id="payment-amount" min="0" step="5">
            </div>

            <div class="modal-actions">
                <button onclick="processPayment()">Confirm Payment</button>
                <button onclick="closePaymentModal()">Cancel</button>
            </div>
        </div>
    </div>
    <!-- paymetn transaction history -->
    <div id="payment-transaction-history" class="hidden">
        <div class="modal-content">
            <span class="close" onclick="closeTransactionModal()">&times;</span>
            <h3>Transaction history for <span id="transaction-customer-name"></span></h3>
            <div class="transaction-table-container">
                <table id="transaction-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Amount</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>